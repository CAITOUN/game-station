# 游戏站功能规划文档

## 一、首页功能规划

### 页面布局

#### 顶部区域
- **导航栏**：固定在顶部，包含网站标志/名称和搜索框
- **横幅区域**：展示网站特色或推广信息（可选）

#### 左侧边栏
- **分类导航菜单**：垂直排列的游戏分类列表
- **标签云**：热门标签展示区（较小字体）

#### 主内容区（中央区域）
- **精选游戏区**：顶部展示4-6个热门/精选游戏，大尺寸卡片
- **新游戏区**：带有"新"标识的最近添加游戏
- **分类游戏展示**：按不同分类（如"动作"、"益智"等）展示游戏
- **每个分类区域**：包含"查看更多"链接，点击后进入该分类页面

#### 底部区域
- **简单页脚**：包含网站信息、联系方式等

### 页面样式

#### 整体风格
- **配色方案**：深色背景+鲜明对比色，类似截图中的深色主题
- **响应式设计**：适配桌面和移动设备
- **圆角元素**：游戏卡片、按钮和导航项使用圆角设计

#### 游戏卡片
- **缩略图**：高质量游戏缩略图作为主要视觉元素
- **游戏标题**：清晰可见的游戏名称
- **状态标签**：如"新"、"热门"等标识，使用醒目颜色
- **悬停效果**：鼠标悬停时显示简短描述或放大效果

#### 导航元素
- **分类图标**：每个游戏分类旁添加相关图标
- **高亮当前选中**：当前选中的分类明显高亮显示
- **搜索框**：突出的搜索框设计，带有搜索图标

### 页面功能点

#### 游戏浏览功能
1. **全部游戏展示**：首页直观展示多种游戏
2. **分类浏览**：通过左侧分类菜单快速筛选游戏
3. **标签筛选**：点击标签可筛选出包含该标签的游戏
4. **游戏预览**：鼠标悬停在游戏卡片上显示游戏简介
5. **直接进入**：点击游戏卡片直接打开游戏页面

#### 搜索功能
1. **实时搜索**：输入时实时显示匹配结果
2. **多字段搜索**：同时搜索游戏标题、描述和标签
3. **搜索结果排序**：可按相关性或添加时间排序
4. **搜索建议**：基于常见搜索词提供建议

#### 游戏分类功能
1. **主要分类**：基于游戏类型的主要分类（如动作、冒险、益智等）
2. **特色分类**：如"新游戏"、"热门游戏"、"编辑推荐"等
3. **标签系统**：基于JSON中的tags自动生成标签分类
4. **自动更新**：新添加的游戏自动出现在"新游戏"区域

#### 性能优化功能
1. **懒加载**：游戏卡片图片使用懒加载技术
2. **分页或无限滚动**：大量游戏时支持分页或无限滚动加载
3. **游戏预加载**：点击游戏前预加载游戏资源
4. **缓存机制**：缓存JSON数据减少请求次数

## 二、游戏详情页功能规划

### 页面布局

#### 顶部区域
- **导航栏**：与首页保持一致，包含网站标志和搜索框
- **面包屑导航**：显示当前位置，如"首页 > 益智游戏 > 游戏名称"

#### 左侧边栏
- **分类导航菜单**：与首页完全一致的垂直分类列表
- **分类图标**：每个分类旁显示相应图标
- **当前分类高亮**：高亮显示当前游戏所属分类

#### 中央主体区域（自上而下）
- **游戏标题区**：显示游戏名称，使用较大字体
- **游戏描述区**：简洁描述游戏玩法和特点
- **游戏标签**：水平排列的游戏相关标签（如"益智"、"2D"等）
- **游戏iframe区**：占据主要视觉空间的游戏加载区域
- **操作指南**：简单的游戏操作说明（可折叠）

#### 右侧区域（可选）
- **相似游戏推荐**：3-4个相关游戏卡片
- **推荐游戏预览**：小型缩略图+游戏名称
- **"玩这个"按钮**：每个推荐游戏卡片上的快速访问按钮

#### 底部区域
- **简单页脚**：版权信息和必要链接
- **回到顶部按钮**：长页面时的快速导航

### 页面样式

#### 整体风格
- **一致性主题**：与首页保持一致的配色和设计语言
- **深色背景**：使用深色背景突出游戏内容
- **响应式设计**：适配不同屏幕尺寸的设备
- **简约风格**：减少视觉干扰，突出游戏体验

#### 游戏展示区
- **清晰边界**：游戏iframe区域有明确的边框或阴影
- **适应性尺寸**：自动调整大小以适应不同的游戏比例
- **加载指示器**：游戏加载时显示进度指示
- **全屏按钮**：右下角显示全屏切换图标

#### 文字样式
- **层级分明**：标题、描述和操作指南使用不同大小和权重的字体
- **可读性优先**：确保文字与背景有足够对比度
- **简洁描述**：游戏描述控制在2-3句话内，突出特点

### 页面功能点

#### 游戏加载与展示
1. **直接加载**：页面打开后自动加载游戏，无需额外点击
2. **适应性iframe**：自动调整大小以匹配游戏原始比例
3. **加载状态展示**：显示游戏加载进度或状态
4. **错误处理**：游戏无法加载时显示友好错误提示
5. **全屏模式**：支持切换全屏游戏体验

#### 游戏信息展示
1. **游戏标题与描述**：清晰展示游戏名称和简短介绍
2. **游戏标签系统**：展示游戏相关标签，如类型、玩法特点等
3. **操作指南**：简明的游戏操作说明，如键盘控制方式
4. **适合人群**：简单标注适合年龄段或难度级别（可选）

#### 导航功能
1. **分类导航**：通过左侧菜单快速切换到其他游戏分类
2. **面包屑导航**：显示当前位置并提供快速返回路径
3. **返回首页**：明显的返回首页选项
4. **搜索功能**：顶部搜索框可直接搜索其他游戏

#### 游戏推荐功能
1. **相似游戏推荐**：基于当前游戏标签推荐相似游戏
2. **一键切换**：点击推荐游戏直接跳转到对应游戏页面
3. **智能推荐**：优先推荐同类别或相似标签的游戏

#### 性能优化功能
1. **延迟加载**：推荐游戏图片使用延迟加载技术
2. **资源预加载**：预加载可能跳转的相关游戏资源
3. **iframe沙箱**：为游戏iframe设置适当的沙箱属性，提高安全性
4. **页面缓存**：适当缓存页面资源，提高再次访问速度

## 三、技术实现要点

### 数据结构
- 使用JSON格式存储游戏数据，包含以下字段：
  - `title`: 游戏名称
  - `embed`: iframe嵌入链接
  - `image`: 游戏缩略图
  - `tags`: 用逗号分隔的标签列表
  - `description`: 游戏描述

### 前端实现
1. **响应式框架**：使用现代前端框架构建响应式界面
2. **动态加载**：从JSON数据源动态生成游戏列表和详情页
3. **路由设计**：清晰的URL结构，如`/games/[game-slug]`
4. **SEO优化**：为每个游戏页面生成适当的标题和元描述

### 性能考虑
1. **懒加载技术**：针对图片和非关键资源
2. **缓存策略**：适当缓存JSON数据和静态资源
3. **iframe优化**：合理设置iframe的加载策略和安全属性
4. **错误处理**：优雅处理资源加载失败的情况

### 移动适配
1. **移动优先设计**：考虑移动设备的用户体验
2. **触摸优化**：针对触摸屏设备优化交互元素
3. **布局调整**：在小屏幕设备上重新排列界面元素

这份文档提供了构建简化游戏站的详细功能规划，涵盖了首页和游戏详情页的布局、样式和功能点。这种设计既专注于核心游戏体验，又保持了良好的导航和发现功能，适合作为无需登录的轻量级游戏平台实现方案。

## 四、增强与优化建议

### 一、首页功能增强

1.  **更智能的推荐算法（替换/增强"相似游戏推荐"）** - **【高优先级】**
    *   **现状**: 文档提到了"精选游戏区"、"新游戏区"以及简单的"标签筛选"。
    *   **建议**: 除了基于标签的推荐，可以引入更高级的推荐算法。
        *   **基于热门度的动态推荐**: 自动识别并展示最近一周/月内被点击或游玩次数最多的游戏，而不是固定地标记"热门"。
        *   **个性化推荐（轻量级**): 如果记录用户的匿名游戏会话（例如，通过 `localStorage` 存储最近玩过的游戏），可以基于这些数据推荐"您可能喜欢"的游戏，无需用户登录。
        *   **内容协同过滤**: 根据游戏描述、标签等相似度，自动推荐与用户当前浏览或玩过的游戏相似的其他游戏。
    *   **实现考量**: 可能需要在后端或利用边缘函数进行一些简单的推荐逻辑处理，避免在客户端进行大量计算。

2.  **首页内容模块化与自定义布局** - **【中优先级】**
    *   **现状**: 首页布局相对固定，有"精选游戏区"、"新游戏区"等。
    *   **建议**: 设计一个更灵活的首页布局，允许动态配置不同的游戏展示模块。
        *   **可配置的模块**: 除了现有分类，可以增加"本周热门"、"编辑推荐"、"最近更新"等更多维度的模块。
        *   **拖拽排序/显示**: 如果未来有后台管理界面，可以考虑让运营人员拖拽调整这些模块的顺序，甚至选择哪些模块显示。
    *   **实现考量**: 前端组件化应更细致，每个游戏列表区域都可以是一个独立的组件，通过传入不同的数据源和配置进行渲染。

3.  **高级筛选与排序（增强搜索功能）** - **【待开发】**
    *   **现状**: 由于技术架构限制（客户端组件无法使用Node.js的fs模块），暂时移除了搜索功能。
    *   **当前实现**: 搜索页面显示"功能开发中"的提示页面。
    *   **建议的实现方案**:
        *   **方案1**: 创建API路由来处理游戏数据，避免客户端直接导入使用fs的模块
        *   **方案2**: 将游戏数据预处理为静态JSON文件，在构建时生成
        *   **方案3**: 使用服务器端组件来处理搜索和筛选逻辑
    *   **待实现功能**:
        *   **实时搜索**: 支持搜索游戏名称、标签和描述
        *   **多维度筛选**: 多个标签的AND逻辑筛选
        *   **多种排序方式**: 相关性、标题、时间、热门度排序
        *   **筛选状态管理**: 可视化筛选条件管理

### 二、游戏详情页功能增强

1.  **增强的用户交互反馈** - **【高优先级】**
    *   **现状**: 文档提到"加载指示器"、"错误处理"。
    *   **建议**: 
        *   **平滑加载动画**: 游戏 iframe 加载时，提供一个更美观、平滑的加载动画（例如骨架屏或定制的加载动画）。
        *   **用户友好提示**: 对于游戏加载失败，除了"友好错误提示"，可以提供更多帮助信息，例如"请检查网络连接"或"尝试刷新页面"。
        *   **全屏模式下的提示**: 当用户进入全屏模式时，可以短暂显示如何退出全屏的提示。
    *   **实现考量**: 可以利用 React 的 `Suspense` 和 `ErrorBoundary` 来更好地管理加载状态和错误。

2.  **评论/反馈系统（可选但增强互动）** - **【低优先级】**
    *   **现状**: 文档未提及用户互动功能。
    *   **建议**: 如果希望增加用户粘性，可以考虑一个轻量级的评论或反馈系统。
        *   **匿名评论**: 用户无需登录即可对游戏进行简单的评论或评分。
        *   **内嵌式评论**: 可以使用第三方评论服务（如 Disqus）或自建一个简单的评论系统。
    *   **实现考量**: 需要考虑数据存储（例如 Supabase）、内容审核以及前端组件的集成。

3.  **游戏分享功能** - **【中优先级】**
    *   **现状**: 未提及分享功能。
    *   **建议**: 添加一键分享当前游戏到社交媒体（如 Twitter, Facebook, 微信）的按钮。
    *   **实现考量**: 主要是前端实现，调用浏览器的分享 API 或直接生成分享链接。

### 三、技术实现和架构优化

1.  **组件库的深入应用和统一设计系统** - **【低优先级】**
    *   **现状**: 文档提到了使用 Shadcn UI, Radix, Tailwind。
    *   **建议**: 确保所有新老组件都遵循统一的设计语言。
        *   **原子化设计**: 进一步将 UI 拆分为更小的可复用组件（如 Button, Input, Card 等），确保它们在整个网站中的一致性。
        *   **主题切换**: 考虑实现一个简单的深色/浅色主题切换功能，以提升用户体验（如果当前只有深色）。
    *   **实现考量**: 严格遵循 Shadcn UI 和 Tailwind 的最佳实践，保持样式的一致性和可维护性。

2.  **更细致的SEO优化和元数据管理** - **【高优先级】**
    *   **现状**: 文档提到了"SEO优化"和"为每个游戏页面生成适当的标题和元描述"。
    *   **建议**: 
        *   **动态 Open Graph (OG) 标签**: 为每个游戏详情页生成独特的 OG 标签（包括游戏标题、描述、缩略图），以便在社交媒体分享时有更好的展示效果。
        *   **JSON-LD 结构化数据**: 为游戏详情页添加 `Game` 或 `VideoGame` 类型的 Schema.org JSON-LD 标记，这有助于搜索引擎更好地理解页面内容，并可能在搜索结果中显示富文本摘要。
        *   **Sitemap 和 Robots.txt 自动化**: 确保 `next-sitemap` 配置正确，并自动生成包含所有游戏页面的 Sitemap，同时通过 `robots.txt` 管理爬虫行为。
    *   **实现考量**: 利用 Next.js 的 Metadata API 在服务器端生成这些标签。

3.  **性能监控和优化工具集成** - **【高优先级】**
    *   **现状**: 文档提到了"懒加载"、"分页或无限滚动"、"游戏预加载"、"缓存机制"和"Web Vitals RUM tracking"。
    *   **建议**: 
        *   **集成性能监控**: 确保 Core Web Vitals RUM (Real User Monitoring) 跟踪到位，可以使用像 Vercel Analytics、Google Analytics 或自定义解决方案来收集数据。
        *   **性能瓶颈分析**: 定期分析报告，识别并优化 LCP、CLS、FID 等指标的瓶颈。
        *   **图片优化工具**: 确保所有图片（特别是游戏缩略图）都经过了 WebP 转换和适当的压缩，并且 `next/image` 组件得到了正确使用。
    *   **实现考量**: 持续关注 Next.js 的最新性能优化特性，并根据实际用户数据进行迭代。

4.  **增量静态再生 (ISR) 的细化** - **【中优先级】**
    *   **现状**: 文档提到了"配置 ISR (Incremental Static Regeneration)"。
    *   **建议**: 根据游戏数据的更新频率，为不同的页面或数据源设置不同的 ISR 策略。
        *   **高频更新**: 例如"新游戏"或"热门游戏"列表，可以设置较短的 `revalidate` 时间。
        *   **低频更新**: 游戏详情页如果内容不常变动，可以设置较长的 `revalidate` 时间，甚至按需重新生成（On-Demand Revalidation）当游戏数据更新时触发。
    *   **实现考量**: 精确配置 `getStaticProps` 中的 `revalidate` 值，并考虑如何触发按需重新生成。
